/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={500:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=c(e,s(a)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=c(t,a));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};a.r(e),a.d(e,{createLicenseActivation:()=>K,createUserData:()=>Q,deleteLicenseActivation:()=>G,deleteUserData:()=>V,fetchFromAPI:()=>$,saveUserData:()=>B,setLicenseActivation:()=>Y,setUserData:()=>H});var t={};a.r(t),a.d(t,{FETCH_FROM_API:()=>z});var n={};a.r(n),a.d(n,{getLicenseActivation:()=>X,getUserData:()=>J});var r={};a.r(r),a.d(r,{getLicenseActivation:()=>Z,getUserData:()=>ee});const s=window.wp.hooks,c=window.wp.i18n,l=window.wp.element,i=window.lodash,o=window.wp.components,p=window.wp.date,m=qlwappProApiAdminMenu.QLWAPP_PRO_LICENSE_ROUTES.activation,u=qlwappProApiAdminMenu.QLWAPP_PRO_LICENSE_ROUTES["user-data"],d=(qlwappProApiAdminMenu.QLWAPP_PRO_DEMO_URL,qlwappProApiAdminMenu.QLWAPP_PRO_LICENSES_URL),h=qlwappProApiAdminMenu.QLWAPP_PRO_SUPPORT_URL;function w({children:e,style:t}){return(0,l.createElement)("table",{className:"form-table widefat striped",style:t},e)}qlwappProApiAdminMenu.QLWAPP_PRO_ACTIVATE_URL;const v=({activation:e,activationStatus:t,newUserData:a,handleDeleteLicenseActivation:n,isLoading:r})=>{let s,o,m="";return"none"===t?m=(0,l.createInterpolateElement)((0,c.__)("Before you can receive plugin updates, you must first authenticate your license. To locate your License Key, <a>log in</a> to your account and navigate to the Account > Licenses page.","wp-whatsapp-chat-pro"),{a:(0,l.createElement)("a",{href:d,target:"_blank",rel:"noopener noreferrer"})}):"valid"===t?m=(0,l.createInterpolateElement)((0,c.__)("Thanks for registering your license! If you have any doubts, you can request <a>support</a> through our ticket system.","wp-whatsapp-chat-pro"),{a:(0,l.createElement)("a",{href:h,target:"_blank",rel:"noopener noreferrer"})}):"expired"===t&&(m=(0,l.createInterpolateElement)((0,c.__)("Your license has expired. Please <a>renew</a> it to retain access to premium features and updates.","wp-whatsapp-chat-pro"),{a:(0,l.createElement)("a",{href:d,target:"_blank",rel:"noopener noreferrer"})})),"none"===t?s="inherit":"valid"===t?s="#00a32a":"expired"===t&&(s="#d63638"),"none"===t?o=(0,c.__)("Notice","wp-whatsapp-chat-pro"):"valid"===t?o=(0,c.__)("Active","wp-whatsapp-chat-pro"):"expired"===t&&(o=(0,c.__)("Expired","wp-whatsapp-chat-pro")),(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),"none"===t?n():window.confirm((0,c.__)("License activation can only be deleted through a support request. Would you like to be redirected to contact support to request removal?","wp-whatsapp-chat-pro"))&&window.open(h,"_blank")}},(0,l.createElement)(w,null,(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("td",null,!(0,i.isEmpty)(a)&&(0,l.createElement)("button",{type:"submit",className:"button button-secondary",disabled:r||"none"===t},(0,c.__)("Delete","wp-whatsapp-chat-pro"))),(0,l.createElement)("td",null,(0,c.__)("Status","wp-whatsapp-chat-pro")),(0,l.createElement)("td",null,r&&(0,l.createElement)("span",{style:{visibility:"visible"},className:"spinner"})))),(0,l.createElement)("tbody",null,!!e?.license_created&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Created","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},(0,p.gmdateI18n)("d-m-Y - h:m",e?.license_created))),(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Limit","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},e?.license_limit>0?e?.license_limit:(0,c.__)("Unlimited","wp-whatsapp-chat-pro"))),(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Activations","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},e?.activation_count)),(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Updates","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},"0000-00-00 00:00:00"!=e?.license_expiration&&e?.license_updates>0?(0,c.sprintf)((0,c.__)("Expires on %s","wp-whatsapp-chat-pro"),e?.license_expiration):(0,c.__)("Unlimited","wp-whatsapp-chat-pro"))),(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Support","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},"0000-00-00 00:00:00"!=e?.license_expiration&&e?.license_support?(0,c.sprintf)((0,c.__)("Expires on %s","wp-whatsapp-chat-pro"),e?.license_expiration):(0,c.__)("Unlimited","wp-whatsapp-chat-pro"))),(0,l.createElement)("tr",null,(0,l.createElement)("td",null,(0,c.__)("Expiration","wp-whatsapp-chat-pro")),(0,l.createElement)("td",{colSpan:2},"0000-00-00 00:00:00"!=e?.license_expiration?(0,p.gmdateI18n)("d-m-Y - h:m",e?.license_expiration):(0,c.__)("Unlimited","wp-whatsapp-chat-pro")))),(0,l.createElement)("tr",null,(0,l.createElement)("td",{style:{color:s}},(0,l.createElement)("b",null,o)),(0,l.createElement)("td",{colSpan:2,style:{color:s}},m)))))},_=({isLoading:e,isSaveActive:t,setUserData:a,newUserData:n,handleCreateLicenseActivation:r})=>(0,l.createElement)("form",{onSubmit:async e=>{e.preventDefault(),r()}},(0,l.createElement)("table",{className:"widefat form-table"},(0,l.createElement)("tbody",null,(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"100%"},(0,l.createElement)("table",null,(0,l.createElement)("tbody",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,c.__)("Market","wp-whatsapp-chat-pro")),(0,l.createElement)("td",null,(0,l.createElement)("select",{value:n.license_market||"",onChange:e=>{a({license_market:e.target.value})}},(0,l.createElement)("option",{value:"quadlayers"},"QuadLayers"),(0,l.createElement)("option",{value:"envato"},"Envato")))),(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,c.__)("Email","wp-whatsapp-chat-pro")),(0,l.createElement)("td",null,(0,l.createElement)("input",{type:"email",value:n?.license_email||"",onChange:e=>a({license_email:e.target.value})}))),(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,c.__)("Key","wp-whatsapp-chat-pro")),(0,l.createElement)("td",null,(0,l.createElement)("input",{type:"password",value:n?.license_key||"",onChange:e=>a({license_key:e.target.value})})))))))),(0,l.createElement)("tfoot",null,(0,l.createElement)("tr",null,(0,l.createElement)("td",{colSpan:"3"},(0,l.createElement)("span",{className:"spinner"}),(0,l.createElement)("button",{disabled:e||!t,type:"submit",className:"button button-primary"},(0,c.__)("Save","wp-whatsapp-chat-pro"))))))),E="quadlayers/wp-whatsapp-chat-pro",f={userData:{license_market:"quadlayers",license_key:"",license_email:""},licenseActivation:{success:!1,data:{},message:null}},b=window.wp.data,y=window.wp.apiFetch;var g=a.n(y);const{WP_VERSION:A}=qlwappProApiAdminMenu,S=({method:e,data:t})=>g()({path:u,method:e,data:t}),q=({method:e,data:t})=>g()({path:m,method:e,data:t});function D(e,t){const a={};return new Set([...Object.keys(e),...Object.keys(t)]).forEach((n=>{e.hasOwnProperty(n)&&t.hasOwnProperty(n)?!function(e){const t=typeof e;return null!=e&&("object"==t||"function"==t)}(e[n])||Array.isArray(e[n])?a[n]=t[n]:a[n]=D(e[n],t[n]):e.hasOwnProperty(n)?a[n]=e[n]:t.hasOwnProperty(n)&&(a[n]=t[n])})),a}const L=()=>{const{licenseActivation:e,createLicenseActivation:t,deleteLicenseActivation:a}=function(){const{createLicenseActivation:e,deleteLicenseActivation:t}=(0,b.useDispatch)(E),{licenseActivation:a,isResolvingLicenseActivation:n,hasResolvedLicenseActivation:r}=(0,b.useSelect)((e=>{const{isResolving:t,hasFinishedResolution:a,getLicenseActivation:n}=e(E);return{licenseActivation:n(),isResolvingLicenseActivation:t("getLicenseActivation"),hasResolvedLicenseActivation:a("getLicenseActivation")}}),[]);return{licenseActivation:a,isResolvingLicenseActivation:n,hasResolvedLicenseActivation:r,hasLicenseActivation:!(!r||!Object.keys(a)?.length),createLicenseActivation:e,deleteLicenseActivation:t}}(),n=function(e){return e?.license_key&&e?.activation_instance?function(e){return!!e.license_updates&&!!function(e){return"0000-00-00 00:00:00"!==e.license_expiration&&new Date>new Date(e.license_expiration)}(e)}(e)?"expired":"valid":"none"}(e),{userData:r,hasResolvedUserData:s,saveUserData:c}=function(){const{saveUserData:e,deleteUserData:t}=(0,b.useDispatch)(E),{userData:a,isResolvingUserData:n,hasResolvedUserData:r}=(0,b.useSelect)((e=>{const{isResolving:t,hasFinishedResolution:a,getUserData:n}=e(E);return{userData:n(),isResolvingUserData:t("getUserData"),hasResolvedUserData:a("getUserData")}}),[]);return{userData:a,isResolvingUserData:n,hasResolvedUserData:r,hasUserData:!(!r||!Object.keys(a)?.length),saveUserData:e,deleteUserData:t}}(),[p,m]=(0,l.useState)(!1),[u,d]=(0,l.useState)(r);if((0,l.useEffect)((()=>{s&&d(r)}),[s,r]),!s)return(0,l.createElement)(o.Spinner,null);const h=async()=>{m(!0);const t=await a(e);t||console.error({response:t}),m(!1)};return(0,l.createElement)("div",{className:"wrap about-wrap full-width-layout"},(0,l.createElement)(_,{isLoading:p,isSaveActive:!(0,i.isEqual)(r,u)||"none"===n,newUserData:u,setUserData:e=>{const t=D(u,e);d(t)},activation:e,handleCreateLicenseActivation:async()=>{if(m(!0),await c(u)){const e=await t(u);e||console.error({response:e})}m(!1)},handleDeleteLicenseActivation:h}),(0,l.createElement)(v,{isLoading:p,activation:e,activationStatus:n,newUserData:u,handleDeleteLicenseActivation:h}))},{Header:N,Nav:U,useAppSlotContext:P}=window.qlwapp["admin-menu"],O=[{label:(0,c.__)("License","wp-whatsapp-chat-pro"),name:"license",content:()=>{const{Fill:e}=P();return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e.Header,null,(0,l.createElement)(N,null)),(0,l.createElement)(e.Navigation,null,(0,l.createElement)(U,null)),(0,l.createElement)(e.Content,null,(0,l.createElement)(L,null)))}}];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(null,arguments)}const R=window.wp.compose;var x=a(500),C=a.n(x);const I=["qlwf-chat","qlwf-chat1","qlwf-chat2","qlwf-comments","qlwf-chat3","qlwf-bubble1","qlwf-chat-alt-fill","qlwf-chat-alt-stroke","qlwf-comment-alt2-fill","qlwf-comment-alt2-stroke","qlwf-comment-fill","qlwf-comment-stroke","qlwf-comment","qlwf-comment-alt1-stroke","qlwf-chat4","qlwf-comments1","qlwf-chat5","qlwf-comment1","qlwf-bubble","qlwf-bubbles","qlwf-bubbles2","qlwf-bubble2","qlwf-bubbles3","qlwf-bubbles4","qlwf-whatsapp","qlwf-chat6","qlwf-mode_comment","qlwf-insert_comment","qlwf-chat_bubble_outline","qlwf-chat_bubble","qlwf-bubble_chart","qlwf-comment2","qlwf-chat7","qlwf-commenting-o","qlwf-commenting","qlwf-comments-o","qlwf-comment-o","qlwf-wechat","qlwf-comments2","qlwf-comment3","qlwf-chat8","qlwf-chat-bubble-dots","qlwf-bubbles1","qlwf-bubble3"];function T({setIsOpen:e,isLoading:t,value:a,onChange:n}){const[r,s]=(0,l.useState)(a),i=t=>{t.preventDefault(),e(!1)};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"edit-media-header"},(0,l.createElement)("button",{type:"button",className:"media-modal-close",onClick:i},(0,l.createElement)("span",{className:"media-modal-icon"},(0,l.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Close dialog","wp-whatsapp-chat"))))),(0,l.createElement)("div",{className:"media-frame-title"},(0,l.createElement)("h1",null,(0,c.sprintf)((0,c.__)("Add Icon: # %s","wp-whatsapp-chat"),r))),(0,l.createElement)("div",{className:"media-frame-content"},(0,l.createElement)("div",{className:"attachment-details",style:{overflow:"hidden"}},(0,l.createElement)("div",{className:"attachment-media-view landscape"},(0,l.createElement)("div",{style:{height:"100%"}},I.map(((e,t)=>(0,l.createElement)("div",{key:t,tabIndex:e===r?1:0,role:"checkbox","aria-label":e,"aria-checked":!0,className:C()("attachment save-ready","save-ready","icon","_"+e?.replace(" ",/_/g),e===r&&"selected"),onClick:()=>s(e)},(0,l.createElement)("div",{className:"attachment-preview js--select-attachment type-image subtype-jpeg landscape qlwapp__icons-modal__icon"},(0,l.createElement)("div",{className:"thumbnail"},(0,l.createElement)("i",{className:`${e}`}))),(0,l.createElement)("button",{type:"button",className:"check",tabIndex:"-1",onClick:e=>{e.preventDefault(),e.stopPropagation(),s("")}},(0,l.createElement)("span",{className:"media-modal-icon"}),(0,l.createElement)("span",{className:"screen-reader-text"},(0,c.__)("Deselect","wp-whatsapp-chat")))))))))),(0,l.createElement)("div",{className:"media-frame-toolbar",style:{left:0}},(0,l.createElement)("div",{className:"media-toolbar"},(0,l.createElement)("div",{className:"media-toolbar-secondary"},(0,l.createElement)("span",{className:"settings-save-status media-button",style:{float:"left"}},t&&(0,l.createElement)("span",{style:{visibility:"visible"},className:"spinner"}))),(0,l.createElement)("div",{className:"media-toolbar-primary search-form"},(0,l.createElement)("button",{className:"button button-primary media-button button-large",onClick:async t=>{t.preventDefault(),n({target:{name:"icon",value:r}}),e(!1)}},(0,c.__)("Save","wp-whatsapp-chat")),(0,l.createElement)("button",{type:"button",className:"button media-button button-large",onClick:i},(0,c.__)("Close","wp-whatsapp-chat"))))))}const{Modal:j}=window.qlwapp.components,M=(0,R.createHigherOrderComponent)((e=>t=>{const[a,n]=(0,l.useState)(!1),{onChange:r,value:s}=t;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,k({},t,{isOpen:a,setIsOpen:n})),(0,l.createElement)(j,{show:a,onClose:()=>n(!1),__experimentalHideHeader:!0,className:"qlwapp__icon-modal"},(0,l.createElement)(T,{isOpen:a,setIsOpen:n,value:s,onChange:r})))}),"withModal");(0,s.addFilter)("wp-whatsapp-chat.ButtonAddIcon","wp-whatsapp-chat/ButtonAddIcon/withModal",M);const F=(0,b.combineReducers)({userData:function(e=f.userData,t){return"SET_USER_DATA"===t.type?t.payload:e},licenseActivation:function(e=f.licenseActivation,t){return"SET_LICENSE_ACTIVATION"===t.type?t.payload:e}}),W=window.wp.notices,H=e=>({type:"SET_USER_DATA",payload:e}),Q=async e=>await S({method:"POST",data:e}),V=()=>async({registry:e,dispatch:t,select:a,resolveSelect:n})=>{const r=await S({method:"DELETE"});return r?.error?(e.dispatch(W.store).createErrorNotice(r?.message,{type:"snackbar"}),!1):(t.setUserData(f.userData),e.dispatch(W.store).createSuccessNotice((0,c.__)("User data has been deleted."," wp-whatsapp-chat-pro"),{type:"snackbar"}),!0)},B=e=>async({registry:t,dispatch:a,select:n,resolveSelect:r})=>{const s=await Q(e);return!s?.success&&s?.data?(t.dispatch(W.store).createErrorNotice(s.message,{type:"snackbar"}),!1):(a.setUserData({...e}),t.dispatch(W.store).createSuccessNotice((0,c.__)("User data has been created."," wp-whatsapp-chat-pro"),{type:"snackbar"}),!0)},Y=e=>({type:"SET_LICENSE_ACTIVATION",payload:e}),K=e=>async({registry:t,dispatch:a,select:n,resolveSelect:r})=>{const s=await q({method:"POST",data:e});return a.setLicenseActivation({...s}),s?.error?(t.dispatch(W.store).createErrorNotice(s?.message,{type:"snackbar"}),!1):(t.dispatch(W.store).createSuccessNotice((0,c.__)("The activation has been created.","wp-whatsapp-chat-pro"),{type:"snackbar"}),!0)},G=(e={})=>async({registry:t,dispatch:a,select:n,resolveSelect:r})=>{const{data:{license_key:s,activation_instance:l}={}}=e,i=await q({method:"DELETE",data:{license_key:s,activation_instance:l}});return a.setLicenseActivation({}),i?.error?(t.dispatch(W.store).createErrorNotice(i?.message,{type:"snackbar"}),!1):(t.dispatch(W.store).createSuccessNotice((0,c.__)("Activation deleted successfully.","wp-whatsapp-chat-pro"),{type:"snackbar"}),!0)},$=e=>({type:"FETCH_FROM_API",path:e});function z(e){return g()({path:e.path})}const J=e=>e.userData,X=e=>e.licenseActivation;function*Z(){const e=yield $(m);return Y(e)}function*ee(){const e=yield $(u);return e?.error?f.userData:H({...f.userData,...e})}const te={reducer:F,actions:e,controls:t,selectors:n,resolvers:r},ae=(0,b.createReduxStore)(E,te);(0,b.register)((e=>{const t=e.split(".").map(Number),a="6.0".split(".").map(Number);for(let e=0;e<a.length;e++){if(t[e]<a[e])return!0;if(t[e]>a[e])return!1}return!1})(A)?(e=>{const t=e.instantiate;return e.instantiate=e=>{const a=t(e);if(!a.store||!a.store.dispatch)throw new Error((0,c.__)("The created instance does not contain a valid store.","wp-whatsapp-chat"));const n=a.store.dispatch,r=((e,t)=>({registry:t,get dispatch(){return Object.assign((t=>e.store.dispatch(t)),e.getActions())},get select(){return Object.assign((t=>t(e.store.__unstableOriginalGetState())),e.getSelectors())},get resolveSelect(){return e.getResolveSelectors()}}))(a,e);return a.store.dispatch=((e,t)=>a=>"function"==typeof a?a(e):t(a))(r,n),a},e})(ae):ae),(0,s.addFilter)("wp-whatsapp-chat.app.tabs","wp-whatsapp-chat/app/tabs",(function(e){return[...e.filter((({name:e})=>"premium"!==e)),...O]}),10,1)})()})();